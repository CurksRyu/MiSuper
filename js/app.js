/*import {productsData} from './products.js'*/

const productsData = [
	{
		"idPRODUCTO" : 1,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida vegetal almendra 1 L",
		"marcaProducto" : "Loncoleche",
		"precioProducto" : "$2.799",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-vegetal-almendra-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/350035-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-vegetal-almendra-1-l/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 2,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de coco Vilay Original sin azúcar 1 L",
		"marcaProducto" : "Vilay",
		"precioProducto" : "$1.899",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-de-coco-vilay-original-sin-azucar-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/410045-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-de-coco-vilay-original-sin-azucar-1-l/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 3,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de almendras sabor natural sin azúcar 1 L",
		"marcaProducto" : "Cuisine & Co",
		"precioProducto" : "$3.000",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "2X",
		"slugProducto" : "bebida-de-almendras-sabor-natural-sin-azucar-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/410226-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-de-almendras-sabor-natural-sin-azucar-1-l-cuisine-and-co-1804535/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 4,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de almendra 1 L",
		"marcaProducto" : "Orasi",
		"precioProducto" : "$3.190",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-de-almendra-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/363649-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/beb-almendra-vegetal-orasi-1lt/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 5,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida coco sin azúcar 1 L",
		"marcaProducto" : "Cuisine & Co",
		"precioProducto" : "$3.000",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "2X",
		"slugProducto" : "bebida-coco-sin-azucar-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/369927-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-coco-sin-azucar-1-l-cuisine-and-co-1857076/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 6,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de coco sin azúcar 946 ml",
		"marcaProducto" : "Coconut Dream",
		"precioProducto" : "$3.490",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-de-coco-sin-azucar-946-ml",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/346221-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-no-lactea-coconut-dream-946-ml-sabor-coco-sin-azucar-anadida-enriquecida/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 7,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de almendra chocolate 1 L",
		"marcaProducto" : "Vilay",
		"precioProducto" : "$1.899",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-de-almendra-chocolate-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/346358-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-de-almendra-vilay-original-chocolate-1-l/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 8,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de almendra vainilla 946 ml",
		"marcaProducto" : "Almond Breeze",
		"precioProducto" : "$3.490",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-de-almendra-vainilla-946-ml",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/349455-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-de-almendra-almond-breeze-vainilla-946-ml/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 9,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida de almendras sabor chocolate 1 L",
		"marcaProducto" : "Cuisine & Co",
		"precioProducto" : "$3.000",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "2X",
		"slugProducto" : "bebida-de-almendras-sabor-chocolate-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/410268-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-de-almendras-sabor-chocolate-1-l-cuisine-and-co-1804538/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 10,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida almendra Vilay original 1 L",
		"marcaProducto" : "Vilay",
		"precioProducto" : "$1.889",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-almendra-vilay-original-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/400244-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-almendra-vilay-original-1-l/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 11,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida orgánica de almendra sin azúcar 1 L",
		"marcaProducto" : "Riso Scotti",
		"precioProducto" : "$2.690",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "",
		"slugProducto" : "bebida-organica-de-almendra-sin-azucar-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/346083-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-organica-de-almendra-sin-azucar-1-l/",
		"disponibilidad" : 1
	},
	{
		"idPRODUCTO" : 12,
		"SUPERMERCADO_idSUPERMERCADO" : 1,
		"tituloProducto" : "Bebida coco natural 1 L",
		"marcaProducto" : "Cuisine & Co",
		"precioProducto" : "$3.000",
		"precioOriginal" : "NULL",
		"tipoPromocionProducto" : "2X",
		"slugProducto" : "bebida-coco-natural-1-l",
		"imagenProducto" : "https://jumbo.vtexassets.com/arquivos/ids/369929-360-360?width=360&height=360&aspect=true",
		"enlaceProducto" : "/bebida-coco-natural-1-l-cuisine-and-co-1857077/",
		"disponibilidad" : 1
	}
	
];

function productsTemplate(products) {
    return `
    <div class="column is-3-widescreen is-4-tablet ">
                            <div class="card">
                                <div class="card-image">
                                    <a href="#">
                                        <img src="${products.imagenProducto}" alt="" class="p-4">
                                    </a>
                                </div>
                                <div class="card-content">
                                    <p class="is-size-6">${products.precioProducto}</p>
                                    <p class="is-size-4">${products.tituloProducto}</p>
									<p class="is-size-5 has-text-grey">${products.marcaProducto}</p>
									<p class="is-size-5 has-text-grey">${ products.SUPERMERCADO_idSUPERMERCADO==1 ? "Jumbo": "F"}</p>
                                </div>
                                <div class="card-footer">
                                    <div class="card-footer-item">
                                        <a href="${products.enlaceProducto}">Ver producto (ejemplo)</a>
                                    </div>
                                </div>
                            </div>
                        </div>
    `;
}


document.getElementById("app").innerHTML = `
    ${productsData.map(productsTemplate).join("")}
`;

document.getElementById("next").addEventListener("click", mifuncion)

var current_page = 1;
var records_per_page = 3;

function prevPage()
{
    if (current_page > 1) {
        current_page--;
        changePage(current_page);
    }
}

function nextPage()
{
    if (current_page < numPages()) {
        current_page++;
        changePage(current_page);
    }
}
    
function changePage(page)
{
    var btn_next = document.getElementById("btn_next");
    var btn_prev = document.getElementById("btn_prev");
    var listing_table = document.getElementById("listingTable");
    var page_span = document.getElementById("page");

    // Validate page
    if (page < 1) page = 1;
    if (page > numPages()) page = numPages();

    listing_table.innerHTML = "";

    for (var i = (page-1) * records_per_page; i < (page * records_per_page) && i < objJson.length; i++) {
        listing_table.innerHTML += objJson[i].adName + "<br>";
    }
    page_span.innerHTML = page + "/" + numPages();

    if (page == 1) {
        btn_prev.style.visibility = "hidden";
    } else {
        btn_prev.style.visibility = "visible";
    }

    if (page == numPages()) {
        btn_next.style.visibility = "hidden";
    } else {
        btn_next.style.visibility = "visible";
    }
}

function numPages()
{
    return Math.ceil(objJson.length / records_per_page);
}

window.onload = function() {
    changePage(1);
};